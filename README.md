# Мониторинг сети.


# Цель
Необходимо разработать систему, позволяющую осуществлять мониторинг оборудование с определённой периодичностью.
 
# Описание
В рамках проекта, был написан фронтенд на React.js, для запуска проекта необходимо реализовать backend. В разрабатываемом продукте должен быть реализован следующий функционал:
• Авторизация
• Пользователи
• Оборудования
• Абонентский терминал
 
# Авторизация
Авторизация должна быть реализована с помощью JWT токена. Frontend отправляя запрос на авторизация, в данном случае это будет логин/пароль, backend должен верифицировать пользователя, и в случае успешной авторизации вернуть специальный access_token, который будет использовать во всех запросах от клиента к серверу. Для данного модуля необходимо реализовать два метода:
• auth – тип запроса POST. Принимаемые параметры логин и пароль. Должен вернуть jwt токен авторизации. {‘status’:’ok’,’access_token’: ‘Bearer xxx...’}
 
# Пользователи
Для доступа к сервису, необходимо реализовать возможность управление пользователями.
Методы которые необходимо реализовать:
• Получение пользователей – тип запроса GET. Возвращает список всех пользователей из базы данных. Например, [ {‘id’: 1, ‘login’: test, …},{‘id’: 2, ‘login’: test2, …}, …]
• Добавление нового пользователя — тип запрос POST. Принимает json с полями - Логин, пароль, ФИО.
• Редактирование пользователя — тип запрос PATCH. Принимает json с полями — ФИО.
• Удаление пользователя — тип запроса DELETE. Принимает параметр user_id.
• Подумайте, какие еще методы можно реализовать
 
# Оборудование
Методы которые необходимо реализовать:
• Получение списка оборудования – тип запроса GET. Возвращает список всех оборудований из базы данных. Например, [ {‘id’: 1, ‘ip_address’: ‘1.1.1.1’, …},{‘id’: 2, ‘ip_address’: ‘1.1.1.2’, …}, …]
• Добавление нового оборудование — тип запроса POST. Принимает json с полями — ip адрес, наименование
• Получение списка абонентских терминалов — тип запроса GET. Принимает параметр ID оборудования. Возращает [{‘id’:1, ‘mac’: ‘00:00:00:00:00:00’, ‘model’: ‘M1000’}, ...]
• Подумайте, какие еще методы можно реализовать
 
# Абонентский терминал
Методы которые необходимо реализовать:
• Добавление нового терминала — тип запроса POST. Принимает json с полями — ID оборудования, mac-address, model.
• Удаление терминала — тип запроса DELETE. Принимает ID терминала.
• Подумайте, какие еще методы можно реализовать
 
Все методы кроме авторизации, должны принимать в хэдере access_token, и проводить его валидацию. В случае если валидация не прошла, то вернуть код ошибки 403 Forbiden.
Формат возвращаемых значений должен быть либо json, либо массив из json.
 
# Рекомендуемый стек технологий
Язык программирования — Python 3.9+
Фрейворк — FastApi.
База данных — Postgresql(желательно) или SQLite. Обязательно использовать SQLAlchemy.
 
# Структура БД
Ниже будет описана минимальная структура БД. При желании можете добавить необходимые поля
# Авторизация
```
uuid: UUID
user_uuid: UUID
access_token: str
expire: datetime
```
 
# Пользователи
```
uuid: UUID
login: str
pswd: str(hash)
fio: str
status: int(0 — активен, 3 — закрыт)
```
 
# Оборудование
```
uuid: UUID
ip_address: str
description: str
``` 
 
# Абонентский терминал
```
uuid: UUID
device_uuid: UUID(foreigkey)
mac: str
model: str
dt_created: datetime
dt_last_pool: datetime
```